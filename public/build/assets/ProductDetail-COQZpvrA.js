import{a as r,B as s}from"./BtnLoader-B0BUZiUs.js";import{c as h,R as e,r as a}from"./client-Bd-BAaQf.js";import{_ as g}from"./index-CMC0lLj1.js";const k=()=>{const[c,n]=a.useState(!1),[m,o]=a.useState(!1),[d,i]=a.useState(0),[u,E]=a.useState(""),[p,b]=a.useState([]),[v,N]=a.useState(!0);a.useEffect(()=>{r.get("/api/product-review/"+blade_product.id).then(({data:t})=>{b(t),N(!1)})},[]);const f=()=>{n(!0),r.post("/api/add-to-cart",{slug:blade_product.slug}).then(t=>{if(t.data=="product_not_found"){showError("Product Not Found.");return}if(t.data=="not_enough_qty"){showError("Not enough quantity.");return}t.data.message=="success"&&(changeCartQty(t.data.cart_qty),showSuccess("Added to cart.")),n(!1)})},_=()=>{o(!0);const t={slug:blade_product.slug};r.post("/api/save-product",t).then(({data:l})=>{if(o(!1),l=="product_not_found"){showError("Product Not Found");return}if(l=="already_save"){showError("Product already in fav.");return}l=="success"&&showSuccess("Added To Fav")})},w=()=>{const t={rating:d,review:u,product_id:blade_product.id};r.post("/api/make-review",t).then(({data:l})=>{if(l=="not_found"){showError("Product Not Found");return}i(0),E(""),showSuccess("Thanks you."),b([...p,l])})};return e.createElement(e.Fragment,null,e.createElement("div",{className:"card p-4"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-12 mb-3"},e.createElement("h3",null,blade_product.name),e.createElement("div",null,e.createElement("small",{className:"text-muted"},"Brand:"),e.createElement("small",{className:"badge badge-dark"},blade_product.brand.name),"|",e.createElement("small",{className:"text-muted"},"Category:"),blade_product.category.map(t=>e.createElement("small",{className:"badge badge-dark"},t.name)))),e.createElement("div",{className:"col-12 col-sm-12 col-md-4 col-lg-4"},e.createElement("img",{className:"w-100",src:blade_product.image_url,alt:""})),e.createElement("div",{className:"col-12 col-sm-12 col-md-8 col-lg-8"},e.createElement("div",{className:"mt-5"},e.createElement("p",null,e.createElement("small",{className:"text-muted"},e.createElement("strike",null,blade_product.discounted_price,"ks")),e.createElement("span",{className:"text-danger fs-1 d-inline"},blade_product.sale_price,"ks"),e.createElement("br",null),e.createElement("span",{className:"btn btn-sm btn-outline-success text-success mt-3"},"InStock :",blade_product.qty),e.createElement("button",{disabled:c,className:"btn btn-sm btn-danger mt-3",onClick:f},e.createElement("i",{className:"fas fa-shopping-cart"}),"Add To Cart",c&&e.createElement(s,null)),e.createElement("button",{disabled:m,className:"btn btn-warning btn-sm mt-3",onClick:_},e.createElement("i",{className:"far fa-save"}),"Add to favoriate",m&&e.createElement(s,null))),e.createElement("p",{className:"mt-5"},blade_product.description),e.createElement("small",{className:"text-muted"},"Available Color:"),blade_product.color.map(t=>e.createElement("span",{className:"badge badge-danger"},t.name)),e.createElement("div",{className:"mt-2"}),e.createElement("small",{className:"text-muted"},"Available Size:"),blade_product.size.map(t=>e.createElement("span",{className:"badge badge-dark"},t.name)))),e.createElement("hr",null),e.createElement("div",{className:"col-12",style:{marginTop:100}},v&&e.createElement("div",{className:"d-flex justify-content-center align-items-center p-5"},e.createElement(s,null)),!v&&e.createElement(e.Fragment,null,p.map(t=>e.createElement("div",{className:"review"},e.createElement("div",{className:"card p-3"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-2"},e.createElement("div",{className:"d-flex justify-content-between"},e.createElement("img",{className:"w-100 rounded-circle",src:"assets/images/user.jpeg",alt:""}))),e.createElement("div",{className:"col-md-10"},e.createElement("div",{className:"rating"},e.createElement(g,{rating:t.rating,starRatedColor:"#fb6340",numberOfStars:5,name:"rating",starDimension:"15px"})),e.createElement("div",{className:"name"},e.createElement("b",null,t.user.name)),e.createElement("div",{className:"mt-3"},e.createElement("small",null,t.review)))))))),e.createElement("div",{className:"add-review mt-5"},e.createElement("h4",null,"Make Review"),e.createElement("div",{className:""},e.createElement(g,{rating:d,starRatedColor:"#fb6340",starHoverColor:"#fb6340",changeRating:t=>{i(t)},numberOfStars:5,name:"rating"})),e.createElement("div",null,e.createElement("textarea",{onChange:t=>E(t.target.value),className:"form-control",rows:5,placeholder:"enter review",value:u}),e.createElement("button",{onClick:w,className:"btn btn-dark float-right mt-3"},"Review")))))))};h(document.getElementById("root")).render(e.createElement(k,null));
